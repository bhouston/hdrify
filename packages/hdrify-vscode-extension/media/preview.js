"use strict";(()=>{var fr=Object.create;var wn=Object.defineProperty;var ur=Object.getOwnPropertyDescriptor;var hr=Object.getOwnPropertyNames;var pr=Object.getPrototypeOf,xr=Object.prototype.hasOwnProperty;var $t=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var dr=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of hr(t))!xr.call(n,o)&&o!==e&&wn(n,o,{get:()=>t[o],enumerable:!(r=ur(t,o))||r.enumerable});return n};var Pe=(n,t,e)=>(e=n!=null?fr(pr(n)):{},dr(t||!n||!n.__esModule?wn(e,"default",{value:n,enumerable:!0}):e,n));var Cn=$t(_e=>{"use strict";_e.byteLength=jr;_e.toByteArray=eo;_e.fromByteArray=oo;var Tt=[],_t=[],qr=typeof Uint8Array<"u"?Uint8Array:Array,Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(kt=0,Fn=Xe.length;kt<Fn;++kt)Tt[kt]=Xe[kt],_t[Xe.charCodeAt(kt)]=kt;var kt,Fn;_t[45]=62;_t[95]=63;function vn(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function jr(n){var t=vn(n),e=t[0],r=t[1];return(e+r)*3/4-r}function to(n,t,e){return(t+e)*3/4-e}function eo(n){var t,e=vn(n),r=e[0],o=e[1],i=new qr(to(n,r,o)),a=0,f=o>0?r-4:r,u;for(u=0;u<f;u+=4)t=_t[n.charCodeAt(u)]<<18|_t[n.charCodeAt(u+1)]<<12|_t[n.charCodeAt(u+2)]<<6|_t[n.charCodeAt(u+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=t&255;return o===2&&(t=_t[n.charCodeAt(u)]<<2|_t[n.charCodeAt(u+1)]>>4,i[a++]=t&255),o===1&&(t=_t[n.charCodeAt(u)]<<10|_t[n.charCodeAt(u+1)]<<4|_t[n.charCodeAt(u+2)]>>2,i[a++]=t>>8&255,i[a++]=t&255),i}function no(n){return Tt[n>>18&63]+Tt[n>>12&63]+Tt[n>>6&63]+Tt[n&63]}function ro(n,t,e){for(var r,o=[],i=t;i<e;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(no(r));return o.join("")}function oo(n){for(var t,e=n.length,r=e%3,o=[],i=16383,a=0,f=e-r;a<f;a+=i)o.push(ro(n,a,a+i>f?f:a+i));return r===1?(t=n[e-1],o.push(Tt[t>>2]+Tt[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],o.push(Tt[t>>10]+Tt[t>>4&63]+Tt[t<<2&63]+"=")),o.join("")}});var Tn=$t(Ye=>{Ye.read=function(n,t,e,r,o){var i,a,f=o*8-r-1,u=(1<<f)-1,m=u>>1,A=-7,g=e?o-1:0,B=e?-1:1,z=n[t+g];for(g+=B,i=z&(1<<-A)-1,z>>=-A,A+=f;A>0;i=i*256+n[t+g],g+=B,A-=8);for(a=i&(1<<-A)-1,i>>=-A,A+=r;A>0;a=a*256+n[t+g],g+=B,A-=8);if(i===0)i=1-m;else{if(i===u)return a?NaN:(z?-1:1)*(1/0);a=a+Math.pow(2,r),i=i-m}return(z?-1:1)*a*Math.pow(2,i-r)};Ye.write=function(n,t,e,r,o,i){var a,f,u,m=i*8-o-1,A=(1<<m)-1,g=A>>1,B=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,z=r?0:i-1,$=r?1:-1,st=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,a=A):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+g>=1?t+=B/u:t+=B*Math.pow(2,1-g),t*u>=2&&(a++,u/=2),a+g>=A?(f=0,a=A):a+g>=1?(f=(t*u-1)*Math.pow(2,o),a=a+g):(f=t*Math.pow(2,g-1)*Math.pow(2,o),a=0));o>=8;n[e+z]=f&255,z+=$,f/=256,o-=8);for(a=a<<o|f,m+=o;m>0;n[e+z]=a&255,z+=$,a/=256,m-=8);n[e+z-$]|=st*128}});var Wn=$t(qt=>{"use strict";var He=Cn(),Kt=Tn(),bn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;qt.Buffer=c;qt.SlowBuffer=fo;qt.INSPECT_MAX_BYTES=50;var Fe=2147483647;qt.kMaxLength=Fe;c.TYPED_ARRAY_SUPPORT=io();!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function io(){try{let n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}});Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function Pt(n){if(n>Fe)throw new RangeError('The value "'+n+'" is invalid for option "size"');let t=new Uint8Array(n);return Object.setPrototypeOf(t,c.prototype),t}function c(n,t,e){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return We(n)}return Ln(n,t,e)}c.poolSize=8192;function Ln(n,t,e){if(typeof n=="string")return so(n,t);if(ArrayBuffer.isView(n))return co(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(bt(n,ArrayBuffer)||n&&bt(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(n,SharedArrayBuffer)||n&&bt(n.buffer,SharedArrayBuffer)))return Ze(n,t,e);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let r=n.valueOf&&n.valueOf();if(r!=null&&r!==n)return c.from(r,t,e);let o=lo(n);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return c.from(n[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}c.from=function(n,t,e){return Ln(n,t,e)};Object.setPrototypeOf(c.prototype,Uint8Array.prototype);Object.setPrototypeOf(c,Uint8Array);function On(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function ao(n,t,e){return On(n),n<=0?Pt(n):t!==void 0?typeof e=="string"?Pt(n).fill(t,e):Pt(n).fill(t):Pt(n)}c.alloc=function(n,t,e){return ao(n,t,e)};function We(n){return On(n),Pt(n<0?0:ze(n)|0)}c.allocUnsafe=function(n){return We(n)};c.allocUnsafeSlow=function(n){return We(n)};function so(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let e=Nn(n,t)|0,r=Pt(e),o=r.write(n,t);return o!==e&&(r=r.slice(0,o)),r}function $e(n){let t=n.length<0?0:ze(n.length)|0,e=Pt(t);for(let r=0;r<t;r+=1)e[r]=n[r]&255;return e}function co(n){if(bt(n,Uint8Array)){let t=new Uint8Array(n);return Ze(t.buffer,t.byteOffset,t.byteLength)}return $e(n)}function Ze(n,t,e){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let r;return t===void 0&&e===void 0?r=new Uint8Array(n):e===void 0?r=new Uint8Array(n,t):r=new Uint8Array(n,t,e),Object.setPrototypeOf(r,c.prototype),r}function lo(n){if(c.isBuffer(n)){let t=ze(n.length)|0,e=Pt(t);return e.length===0||n.copy(e,0,0,t),e}if(n.length!==void 0)return typeof n.length!="number"||Ke(n.length)?Pt(0):$e(n);if(n.type==="Buffer"&&Array.isArray(n.data))return $e(n.data)}function ze(n){if(n>=Fe)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Fe.toString(16)+" bytes");return n|0}function fo(n){return+n!=n&&(n=0),c.alloc(+n)}c.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==c.prototype};c.compare=function(t,e){if(bt(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),bt(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,o=e.length;for(let i=0,a=Math.min(r,o);i<a;++i)if(t[i]!==e[i]){r=t[i],o=e[i];break}return r<o?-1:o<r?1:0};c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return c.alloc(0);let r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;let o=c.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){let a=t[r];if(bt(a,Uint8Array))i+a.length>o.length?(c.isBuffer(a)||(a=c.from(a)),a.copy(o,i)):Uint8Array.prototype.set.call(o,a,i);else if(c.isBuffer(a))a.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=a.length}return o};function Nn(n,t){if(c.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||bt(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let e=n.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&e===0)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return Ve(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Vn(n).length;default:if(o)return r?-1:Ve(n).length;t=(""+t).toLowerCase(),o=!0}}c.byteLength=Nn;function uo(n,t,e){let r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return Io(this,t,e);case"utf8":case"utf-8":return Gn(this,t,e);case"ascii":return yo(this,t,e);case"latin1":case"binary":return wo(this,t,e);case"base64":return Ao(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Mo(this,t,e);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}c.prototype._isBuffer=!0;function Xt(n,t,e){let r=n[t];n[t]=n[e],n[e]=r}c.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)Xt(this,e,e+1);return this};c.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)Xt(this,e,e+3),Xt(this,e+1,e+2);return this};c.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)Xt(this,e,e+7),Xt(this,e+1,e+6),Xt(this,e+2,e+5),Xt(this,e+3,e+4);return this};c.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Gn(this,0,t):uo.apply(this,arguments)};c.prototype.toLocaleString=c.prototype.toString;c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:c.compare(this,t)===0};c.prototype.inspect=function(){let t="",e=qt.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"};bn&&(c.prototype[bn]=c.prototype.inspect);c.prototype.compare=function(t,e,r,o,i){if(bt(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),e<0||r>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=r)return 0;if(o>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,o>>>=0,i>>>=0,this===t)return 0;let a=i-o,f=r-e,u=Math.min(a,f),m=this.slice(o,i),A=t.slice(e,r);for(let g=0;g<u;++g)if(m[g]!==A[g]){a=m[g],f=A[g];break}return a<f?-1:f<a?1:0};function Dn(n,t,e,r,o){if(n.length===0)return-1;if(typeof e=="string"?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Ke(e)&&(e=o?0:n.length-1),e<0&&(e=n.length+e),e>=n.length){if(o)return-1;e=n.length-1}else if(e<0)if(o)e=0;else return-1;if(typeof t=="string"&&(t=c.from(t,r)),c.isBuffer(t))return t.length===0?-1:Un(n,t,e,r,o);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(n,t,e):Uint8Array.prototype.lastIndexOf.call(n,t,e):Un(n,[t],e,r,o);throw new TypeError("val must be string, number or Buffer")}function Un(n,t,e,r,o){let i=1,a=n.length,f=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||t.length<2)return-1;i=2,a/=2,f/=2,e/=2}function u(A,g){return i===1?A[g]:A.readUInt16BE(g*i)}let m;if(o){let A=-1;for(m=e;m<a;m++)if(u(n,m)===u(t,A===-1?0:m-A)){if(A===-1&&(A=m),m-A+1===f)return A*i}else A!==-1&&(m-=m-A),A=-1}else for(e+f>a&&(e=a-f),m=e;m>=0;m--){let A=!0;for(let g=0;g<f;g++)if(u(n,m+g)!==u(t,g)){A=!1;break}if(A)return m}return-1}c.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1};c.prototype.indexOf=function(t,e,r){return Dn(this,t,e,r,!0)};c.prototype.lastIndexOf=function(t,e,r){return Dn(this,t,e,r,!1)};function ho(n,t,e,r){e=Number(e)||0;let o=n.length-e;r?(r=Number(r),r>o&&(r=o)):r=o;let i=t.length;r>i/2&&(r=i/2);let a;for(a=0;a<r;++a){let f=parseInt(t.substr(a*2,2),16);if(Ke(f))return a;n[e+a]=f}return a}function po(n,t,e,r){return ve(Ve(t,n.length-e),n,e,r)}function xo(n,t,e,r){return ve(Fo(t),n,e,r)}function mo(n,t,e,r){return ve(Vn(t),n,e,r)}function go(n,t,e,r){return ve(vo(t,n.length-e),n,e,r)}c.prototype.write=function(t,e,r,o){if(e===void 0)o="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")o=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,o===void 0&&(o="utf8")):(o=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let a=!1;for(;;)switch(o){case"hex":return ho(this,t,e,r);case"utf8":case"utf-8":return po(this,t,e,r);case"ascii":case"latin1":case"binary":return xo(this,t,e,r);case"base64":return mo(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return go(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),a=!0}};c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ao(n,t,e){return t===0&&e===n.length?He.fromByteArray(n):He.fromByteArray(n.slice(t,e))}function Gn(n,t,e){e=Math.min(n.length,e);let r=[],o=t;for(;o<e;){let i=n[o],a=null,f=i>239?4:i>223?3:i>191?2:1;if(o+f<=e){let u,m,A,g;switch(f){case 1:i<128&&(a=i);break;case 2:u=n[o+1],(u&192)===128&&(g=(i&31)<<6|u&63,g>127&&(a=g));break;case 3:u=n[o+1],m=n[o+2],(u&192)===128&&(m&192)===128&&(g=(i&15)<<12|(u&63)<<6|m&63,g>2047&&(g<55296||g>57343)&&(a=g));break;case 4:u=n[o+1],m=n[o+2],A=n[o+3],(u&192)===128&&(m&192)===128&&(A&192)===128&&(g=(i&15)<<18|(u&63)<<12|(m&63)<<6|A&63,g>65535&&g<1114112&&(a=g))}}a===null?(a=65533,f=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),o+=f}return Eo(r)}var Pn=4096;function Eo(n){let t=n.length;if(t<=Pn)return String.fromCharCode.apply(String,n);let e="",r=0;for(;r<t;)e+=String.fromCharCode.apply(String,n.slice(r,r+=Pn));return e}function yo(n,t,e){let r="";e=Math.min(n.length,e);for(let o=t;o<e;++o)r+=String.fromCharCode(n[o]&127);return r}function wo(n,t,e){let r="";e=Math.min(n.length,e);for(let o=t;o<e;++o)r+=String.fromCharCode(n[o]);return r}function Io(n,t,e){let r=n.length;(!t||t<0)&&(t=0),(!e||e<0||e>r)&&(e=r);let o="";for(let i=t;i<e;++i)o+=Co[n[i]];return o}function Mo(n,t,e){let r=n.slice(t,e),o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+r[i+1]*256);return o}c.prototype.slice=function(t,e){let r=this.length;t=~~t,e=e===void 0?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);let o=this.subarray(t,e);return Object.setPrototypeOf(o,c.prototype),o};function gt(n,t,e){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+t>e)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||gt(t,e,this.length);let o=this[t],i=1,a=0;for(;++a<e&&(i*=256);)o+=this[t+a]*i;return o};c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||gt(t,e,this.length);let o=this[t+--e],i=1;for(;e>0&&(i*=256);)o+=this[t+--e]*i;return o};c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t=t>>>0,e||gt(t,1,this.length),this[t]};c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||gt(t,2,this.length),this[t]|this[t+1]<<8};c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||gt(t,2,this.length),this[t]<<8|this[t+1]};c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};c.prototype.readBigUInt64LE=Lt(function(t){t=t>>>0,Qt(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ce(t,this.length-8);let o=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,i=this[++t]+this[++t]*2**8+this[++t]*2**16+r*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});c.prototype.readBigUInt64BE=Lt(function(t){t=t>>>0,Qt(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ce(t,this.length-8);let o=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],i=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r;return(BigInt(o)<<BigInt(32))+BigInt(i)});c.prototype.readIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||gt(t,e,this.length);let o=this[t],i=1,a=0;for(;++a<e&&(i*=256);)o+=this[t+a]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o};c.prototype.readIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||gt(t,e,this.length);let o=e,i=1,a=this[t+--o];for(;o>0&&(i*=256);)a+=this[t+--o]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a};c.prototype.readInt8=function(t,e){return t=t>>>0,e||gt(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};c.prototype.readInt16LE=function(t,e){t=t>>>0,e||gt(t,2,this.length);let r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};c.prototype.readInt16BE=function(t,e){t=t>>>0,e||gt(t,2,this.length);let r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};c.prototype.readInt32LE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};c.prototype.readInt32BE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};c.prototype.readBigInt64LE=Lt(function(t){t=t>>>0,Qt(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ce(t,this.length-8);let o=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(r<<24);return(BigInt(o)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});c.prototype.readBigInt64BE=Lt(function(t){t=t>>>0,Qt(t,"offset");let e=this[t],r=this[t+7];(e===void 0||r===void 0)&&ce(t,this.length-8);let o=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(o)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+r)});c.prototype.readFloatLE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),Kt.read(this,t,!0,23,4)};c.prototype.readFloatBE=function(t,e){return t=t>>>0,e||gt(t,4,this.length),Kt.read(this,t,!1,23,4)};c.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||gt(t,8,this.length),Kt.read(this,t,!0,52,8)};c.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||gt(t,8,this.length),Kt.read(this,t,!1,52,8)};function It(n,t,e,r,o,i){if(!c.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(e+r>n.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,r,o){if(t=+t,e=e>>>0,r=r>>>0,!o){let f=Math.pow(2,8*r)-1;It(this,t,e,r,f,0)}let i=1,a=0;for(this[e]=t&255;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r};c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,r,o){if(t=+t,e=e>>>0,r=r>>>0,!o){let f=Math.pow(2,8*r)-1;It(this,t,e,r,f,0)}let i=r-1,a=1;for(this[e+i]=t&255;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r};c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,1,255,0),this[e]=t&255,e+1};c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2};c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2};c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4};c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function kn(n,t,e,r,o){Zn(t,r,o,n,e,7);let i=Number(t&BigInt(4294967295));n[e++]=i,i=i>>8,n[e++]=i,i=i>>8,n[e++]=i,i=i>>8,n[e++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return n[e++]=a,a=a>>8,n[e++]=a,a=a>>8,n[e++]=a,a=a>>8,n[e++]=a,e}function Xn(n,t,e,r,o){Zn(t,r,o,n,e,7);let i=Number(t&BigInt(4294967295));n[e+7]=i,i=i>>8,n[e+6]=i,i=i>>8,n[e+5]=i,i=i>>8,n[e+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return n[e+3]=a,a=a>>8,n[e+2]=a,a=a>>8,n[e+1]=a,a=a>>8,n[e]=a,e+8}c.prototype.writeBigUInt64LE=Lt(function(t,e=0){return kn(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});c.prototype.writeBigUInt64BE=Lt(function(t,e=0){return Xn(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))});c.prototype.writeIntLE=function(t,e,r,o){if(t=+t,e=e>>>0,!o){let u=Math.pow(2,8*r-1);It(this,t,e,r,u-1,-u)}let i=0,a=1,f=0;for(this[e]=t&255;++i<r&&(a*=256);)t<0&&f===0&&this[e+i-1]!==0&&(f=1),this[e+i]=(t/a>>0)-f&255;return e+r};c.prototype.writeIntBE=function(t,e,r,o){if(t=+t,e=e>>>0,!o){let u=Math.pow(2,8*r-1);It(this,t,e,r,u-1,-u)}let i=r-1,a=1,f=0;for(this[e+i]=t&255;--i>=0&&(a*=256);)t<0&&f===0&&this[e+i+1]!==0&&(f=1),this[e+i]=(t/a>>0)-f&255;return e+r};c.prototype.writeInt8=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1};c.prototype.writeInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2};c.prototype.writeInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2};c.prototype.writeInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4};c.prototype.writeInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||It(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};c.prototype.writeBigInt64LE=Lt(function(t,e=0){return kn(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});c.prototype.writeBigInt64BE=Lt(function(t,e=0){return Xn(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yn(n,t,e,r,o,i){if(e+r>n.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Hn(n,t,e,r,o){return t=+t,e=e>>>0,o||Yn(n,t,e,4,34028234663852886e22,-34028234663852886e22),Kt.write(n,t,e,r,23,4),e+4}c.prototype.writeFloatLE=function(t,e,r){return Hn(this,t,e,!0,r)};c.prototype.writeFloatBE=function(t,e,r){return Hn(this,t,e,!1,r)};function $n(n,t,e,r,o){return t=+t,e=e>>>0,o||Yn(n,t,e,8,17976931348623157e292,-17976931348623157e292),Kt.write(n,t,e,r,52,8),e+8}c.prototype.writeDoubleLE=function(t,e,r){return $n(this,t,e,!0,r)};c.prototype.writeDoubleBE=function(t,e,r){return $n(this,t,e,!1,r)};c.prototype.copy=function(t,e,r,o){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!o&&o!==0&&(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<r&&(o=r),o===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-r&&(o=t.length-e+r);let i=o-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,r,o):Uint8Array.prototype.set.call(t,this.subarray(r,o),e),i};c.prototype.fill=function(t,e,r,o){if(typeof t=="string"){if(typeof e=="string"?(o=e,e=0,r=this.length):typeof r=="string"&&(o=r,r=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(t.length===1){let a=t.charCodeAt(0);(o==="utf8"&&a<128||o==="latin1")&&(t=a)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);let i;if(typeof t=="number")for(i=e;i<r;++i)this[i]=t;else{let a=c.isBuffer(t)?t:c.from(t,o),f=a.length;if(f===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=a[i%f]}return this};var Jt={};function Je(n,t,e){Jt[n]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}Je("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Je("ERR_INVALID_ARG_TYPE",function(n,t){return`The "${n}" argument must be of type number. Received type ${typeof t}`},TypeError);Je("ERR_OUT_OF_RANGE",function(n,t,e){let r=`The value of "${n}" is out of range.`,o=e;return Number.isInteger(e)&&Math.abs(e)>2**32?o=Bn(String(e)):typeof e=="bigint"&&(o=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(o=Bn(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r},RangeError);function Bn(n){let t="",e=n.length,r=n[0]==="-"?1:0;for(;e>=r+4;e-=3)t=`_${n.slice(e-3,e)}${t}`;return`${n.slice(0,e)}${t}`}function Ro(n,t,e){Qt(t,"offset"),(n[t]===void 0||n[t+e]===void 0)&&ce(t,n.length-(e+1))}function Zn(n,t,e,r,o,i){if(n>e||n<t){let a=typeof t=="bigint"?"n":"",f;throw i>3?t===0||t===BigInt(0)?f=`>= 0${a} and < 2${a} ** ${(i+1)*8}${a}`:f=`>= -(2${a} ** ${(i+1)*8-1}${a}) and < 2 ** ${(i+1)*8-1}${a}`:f=`>= ${t}${a} and <= ${e}${a}`,new Jt.ERR_OUT_OF_RANGE("value",f,n)}Ro(r,o,i)}function Qt(n,t){if(typeof n!="number")throw new Jt.ERR_INVALID_ARG_TYPE(t,"number",n)}function ce(n,t,e){throw Math.floor(n)!==n?(Qt(n,e),new Jt.ERR_OUT_OF_RANGE(e||"offset","an integer",n)):t<0?new Jt.ERR_BUFFER_OUT_OF_BOUNDS:new Jt.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,n)}var So=/[^+/0-9A-Za-z-_]/g;function _o(n){if(n=n.split("=")[0],n=n.trim().replace(So,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function Ve(n,t){t=t||1/0;let e,r=n.length,o=null,i=[];for(let a=0;a<r;++a){if(e=n.charCodeAt(a),e>55295&&e<57344){if(!o){if(e>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(t-=3)>-1&&i.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((t-=1)<0)break;i.push(e)}else if(e<2048){if((t-=2)<0)break;i.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;i.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return i}function Fo(n){let t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e)&255);return t}function vo(n,t){let e,r,o,i=[];for(let a=0;a<n.length&&!((t-=2)<0);++a)e=n.charCodeAt(a),r=e>>8,o=e%256,i.push(o),i.push(r);return i}function Vn(n){return He.toByteArray(_o(n))}function ve(n,t,e,r){let o;for(o=0;o<r&&!(o+e>=t.length||o>=n.length);++o)t[o+e]=n[o];return o}function bt(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function Ke(n){return n!==n}var Co=(function(){let n="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){let r=e*16;for(let o=0;o<16;++o)t[r+o]=n[e]+n[o]}return t})();function Lt(n){return typeof BigInt>"u"?To:n}function To(){throw new Error("BigInt not supported")}});var qn=$t((ws,Ce)=>{var Qn=Qn||function(n){return Buffer.from(n).toString("base64")};function bo(n){var t=this,e=Math.round,r=Math.floor,o=new Array(64),i=new Array(64),a=new Array(64),f=new Array(64),u,m,A,g,B=new Array(65535),z=new Array(65535),$=new Array(64),st=new Array(64),At=[],yt=0,q=7,E=new Array(64),L=new Array(64),h=new Array(64),N=new Array(256),x=new Array(2048),b,R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ht=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ct(s){for(var I=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],v=0;v<64;v++){var F=r((I[v]*s+50)/100);F<1?F=1:F>255&&(F=255),o[R[v]]=F}for(var O=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],D=0;D<64;D++){var j=r((O[D]*s+50)/100);j<1?j=1:j>255&&(j=255),i[R[D]]=j}for(var tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],dt=0,ft=0;ft<8;ft++)for(var p=0;p<8;p++)a[dt]=1/(o[R[dt]]*tt[ft]*tt[p]*8),f[dt]=1/(i[R[dt]]*tt[ft]*tt[p]*8),dt++}function V(s,I){for(var v=0,F=0,O=new Array,D=1;D<=16;D++){for(var j=1;j<=s[D];j++)O[I[F]]=[],O[I[F]][0]=v,O[I[F]][1]=D,F++,v++;v*=2}return O}function mt(){u=V(U,k),m=V(ht,_),A=V(rt,S),g=V(Z,pt)}function et(){for(var s=1,I=2,v=1;v<=15;v++){for(var F=s;F<I;F++)z[32767+F]=v,B[32767+F]=[],B[32767+F][1]=v,B[32767+F][0]=F;for(var O=-(I-1);O<=-s;O++)z[32767+O]=v,B[32767+O]=[],B[32767+O][1]=v,B[32767+O][0]=I-1+O;s<<=1,I<<=1}}function J(){for(var s=0;s<256;s++)x[s]=19595*s,x[s+256>>0]=38470*s,x[s+512>>0]=7471*s+32768,x[s+768>>0]=-11059*s,x[s+1024>>0]=-21709*s,x[s+1280>>0]=32768*s+8421375,x[s+1536>>0]=-27439*s,x[s+1792>>0]=-5329*s}function X(s){for(var I=s[0],v=s[1]-1;v>=0;)I&1<<v&&(yt|=1<<q),v--,q--,q<0&&(yt==255?(l(255),l(0)):l(yt),q=7,yt=0)}function l(s){At.push(s)}function M(s){l(s>>8&255),l(s&255)}function ot(s,I){var v,F,O,D,j,tt,dt,ft,p=0,w,P=8,xt=64;for(w=0;w<P;++w){v=s[p],F=s[p+1],O=s[p+2],D=s[p+3],j=s[p+4],tt=s[p+5],dt=s[p+6],ft=s[p+7];var G=v+ft,W=v-ft,at=F+dt,C=F-dt,nt=O+tt,Et=O-tt,ut=D+j,St=D-j,Ct=G+ut,Nt=G-ut,Yt=at+nt,Ht=at-nt;s[p]=Ct+Yt,s[p+4]=Ct-Yt;var jt=(Ht+Nt)*.707106781;s[p+2]=Nt+jt,s[p+6]=Nt-jt,Ct=St+Et,Yt=Et+C,Ht=C+W;var te=(Ct-Ht)*.382683433,fe=.5411961*Ct+te,ee=1.306562965*Ht+te,ne=Yt*.707106781,re=W+ne,oe=W-ne;s[p+5]=oe+fe,s[p+3]=oe-fe,s[p+1]=re+ee,s[p+7]=re-ee,p+=8}for(p=0,w=0;w<P;++w){v=s[p],F=s[p+8],O=s[p+16],D=s[p+24],j=s[p+32],tt=s[p+40],dt=s[p+48],ft=s[p+56];var cn=v+ft,be=v-ft,ln=F+dt,fn=F-dt,un=O+tt,hn=O-tt,pn=D+j,lr=D-j,ie=cn+pn,Ue=cn-pn,ue=ln+un,he=ln-un;s[p]=ie+ue,s[p+32]=ie-ue;var xn=(he+Ue)*.707106781;s[p+16]=Ue+xn,s[p+48]=Ue-xn,ie=lr+hn,ue=hn+fn,he=fn+be;var dn=(ie-he)*.382683433,mn=.5411961*ie+dn,gn=1.306562965*he+dn,An=ue*.707106781,En=be+An,yn=be-An;s[p+40]=yn+mn,s[p+24]=yn-mn,s[p+8]=En+gn,s[p+56]=En-gn,p++}var pe;for(w=0;w<xt;++w)pe=s[w]*I[w],$[w]=pe>0?pe+.5|0:pe-.5|0;return $}function it(){M(65504),M(16),l(74),l(70),l(73),l(70),l(0),l(1),l(1),l(0),M(1),M(1),l(0),l(0)}function K(s){if(s){M(65505),s[0]===69&&s[1]===120&&s[2]===105&&s[3]===102?M(s.length+2):(M(s.length+5+2),l(69),l(120),l(105),l(102),l(0));for(var I=0;I<s.length;I++)l(s[I])}}function Q(s,I){M(65472),M(17),l(8),M(I),M(s),l(3),l(1),l(17),l(0),l(2),l(17),l(1),l(3),l(17),l(1)}function Y(){M(65499),M(132),l(0);for(var s=0;s<64;s++)l(o[s]);l(1);for(var I=0;I<64;I++)l(i[I])}function y(){M(65476),M(418),l(0);for(var s=0;s<16;s++)l(U[s+1]);for(var I=0;I<=11;I++)l(k[I]);l(16);for(var v=0;v<16;v++)l(rt[v+1]);for(var F=0;F<=161;F++)l(S[F]);l(1);for(var O=0;O<16;O++)l(ht[O+1]);for(var D=0;D<=11;D++)l(_[D]);l(17);for(var j=0;j<16;j++)l(Z[j+1]);for(var tt=0;tt<=161;tt++)l(pt[tt])}function d(s){typeof s>"u"||s.constructor!==Array||s.forEach(I=>{if(typeof I=="string"){M(65534);var v=I.length;M(v+2);var F;for(F=0;F<v;F++)l(I.charCodeAt(F))}})}function lt(){M(65498),M(12),l(3),l(1),l(0),l(2),l(17),l(3),l(17),l(0),l(63),l(0)}function T(s,I,v,F,O){for(var D=O[0],j=O[240],tt,dt=16,ft=63,p=64,w=ot(s,I),P=0;P<p;++P)st[R[P]]=w[P];var xt=st[0]-v;v=st[0],xt==0?X(F[0]):(tt=32767+xt,X(F[z[tt]]),X(B[tt]));for(var G=63;G>0&&st[G]==0;G--);if(G==0)return X(D),v;for(var W=1,at;W<=G;){for(var C=W;st[W]==0&&W<=G;++W);var nt=W-C;if(nt>=dt){at=nt>>4;for(var Et=1;Et<=at;++Et)X(j);nt=nt&15}tt=32767+st[W],X(O[(nt<<4)+z[tt]]),X(B[tt]),W++}return G!=ft&&X(D),v}function H(){for(var s=String.fromCharCode,I=0;I<256;I++)N[I]=s(I)}this.encode=function(s,I){var v=new Date().getTime();I&&Rt(I),At=new Array,yt=0,q=7,M(65496),it(),d(s.comments),K(s.exifBuffer),Y(),Q(s.width,s.height),y(),lt();var F=0,O=0,D=0;yt=0,q=7,this.encode.displayName="_encode_";for(var j=s.data,tt=s.width,dt=s.height,ft=tt*4,p=tt*3,w,P=0,xt,G,W,at,C,nt,Et,ut;P<dt;){for(w=0;w<ft;){for(at=ft*P+w,C=at,nt=-1,Et=0,ut=0;ut<64;ut++)Et=ut>>3,nt=(ut&7)*4,C=at+Et*ft+nt,P+Et>=dt&&(C-=ft*(P+1+Et-dt)),w+nt>=ft&&(C-=w+nt-ft+4),xt=j[C++],G=j[C++],W=j[C++],E[ut]=(x[xt]+x[G+256>>0]+x[W+512>>0]>>16)-128,L[ut]=(x[xt+768>>0]+x[G+1024>>0]+x[W+1280>>0]>>16)-128,h[ut]=(x[xt+1280>>0]+x[G+1536>>0]+x[W+1792>>0]>>16)-128;F=T(E,a,F,u,A),O=T(L,f,O,m,g),D=T(h,f,D,m,g),w+=32}P+=8}if(q>=0){var St=[];St[1]=q+1,St[0]=(1<<q+1)-1,X(St)}if(M(65497),typeof Ce>"u")return new Uint8Array(At);return Buffer.from(At);var Ct,Nt};function Rt(s){if(s<=0&&(s=1),s>100&&(s=100),b!=s){var I=0;s<50?I=Math.floor(5e3/s):I=Math.floor(200-s*2),ct(I),b=s}}function vt(){var s=new Date().getTime();n||(n=50),H(),mt(),et(),J(),Rt(n);var I=new Date().getTime()-s}vt()}typeof Ce<"u"?Ce.exports=Kn:typeof window<"u"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=Kn);function Kn(n,t){typeof t>"u"&&(t=50);var e=new bo(t),r=e.encode(n,t);return{data:r,width:n.width,height:n.height}}});var tr=$t((Is,qe)=>{var Qe=(function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,r=799,o=3406,i=2276,a=1567,f=3784,u=5793,m=2896;function A(){}function g(q,E){for(var L=0,h=[],N,x,b=16;b>0&&!q[b-1];)b--;h.push({children:[],index:0});var R=h[0],U;for(N=0;N<b;N++){for(x=0;x<q[N];x++){for(R=h.pop(),R.children[R.index]=E[L];R.index>0;){if(h.length===0)throw new Error("Could not recreate Huffman Table");R=h.pop()}for(R.index++,h.push(R);h.length<=N;)h.push(U={children:[],index:0}),R.children[R.index]=U.children,R=U;L++}N+1<b&&(h.push(U={children:[],index:0}),R.children[R.index]=U.children,R=U)}return h[0].children}function B(q,E,L,h,N,x,b,R,U,k){var rt=L.precision,S=L.samplesPerLine,ht=L.scanLines,_=L.mcusPerLine,Z=L.progressive,pt=L.maxH,ct=L.maxV,V=E,mt=0,et=0;function J(){if(et>0)return et--,mt>>et&1;if(mt=q[E++],mt==255){var p=q[E++];if(p)throw new Error("unexpected marker: "+(mt<<8|p).toString(16))}return et=7,mt>>>7}function X(p){for(var w=p,P;(P=J())!==null;){if(w=w[P],typeof w=="number")return w;if(typeof w!="object")throw new Error("invalid huffman sequence")}return null}function l(p){for(var w=0;p>0;){var P=J();if(P===null)return;w=w<<1|P,p--}return w}function M(p){var w=l(p);return w>=1<<p-1?w:w+(-1<<p)+1}function ot(p,w){var P=X(p.huffmanTableDC),xt=P===0?0:M(P);w[0]=p.pred+=xt;for(var G=1;G<64;){var W=X(p.huffmanTableAC),at=W&15,C=W>>4;if(at===0){if(C<15)break;G+=16;continue}G+=C;var nt=t[G];w[nt]=M(at),G++}}function it(p,w){var P=X(p.huffmanTableDC),xt=P===0?0:M(P)<<U;w[0]=p.pred+=xt}function K(p,w){w[0]|=J()<<U}var Q=0;function Y(p,w){if(Q>0){Q--;return}for(var P=x,xt=b;P<=xt;){var G=X(p.huffmanTableAC),W=G&15,at=G>>4;if(W===0){if(at<15){Q=l(at)+(1<<at)-1;break}P+=16;continue}P+=at;var C=t[P];w[C]=M(W)*(1<<U),P++}}var y=0,d;function lt(p,w){for(var P=x,xt=b,G=0;P<=xt;){var W=t[P],at=w[W]<0?-1:1;switch(y){case 0:var C=X(p.huffmanTableAC),nt=C&15,G=C>>4;if(nt===0)G<15?(Q=l(G)+(1<<G),y=4):(G=16,y=1);else{if(nt!==1)throw new Error("invalid ACn encoding");d=M(nt),y=G?2:3}continue;case 1:case 2:w[W]?w[W]+=(J()<<U)*at:(G--,G===0&&(y=y==2?3:0));break;case 3:w[W]?w[W]+=(J()<<U)*at:(w[W]=d<<U,y=0);break;case 4:w[W]&&(w[W]+=(J()<<U)*at);break}P++}y===4&&(Q--,Q===0&&(y=0))}function T(p,w,P,xt,G){var W=P/_|0,at=P%_,C=W*p.v+xt,nt=at*p.h+G;p.blocks[C]===void 0&&k.tolerantDecoding||w(p,p.blocks[C][nt])}function H(p,w,P){var xt=P/p.blocksPerLine|0,G=P%p.blocksPerLine;p.blocks[xt]===void 0&&k.tolerantDecoding||w(p,p.blocks[xt][G])}var Rt=h.length,vt,s,I,v,F,O;Z?x===0?O=R===0?it:K:O=R===0?Y:lt:O=ot;var D=0,j,tt;Rt==1?tt=h[0].blocksPerLine*h[0].blocksPerColumn:tt=_*L.mcusPerColumn,N||(N=tt);for(var dt,ft;D<tt;){for(s=0;s<Rt;s++)h[s].pred=0;if(Q=0,Rt==1)for(vt=h[0],F=0;F<N;F++)H(vt,O,D),D++;else for(F=0;F<N;F++){for(s=0;s<Rt;s++)for(vt=h[s],dt=vt.h,ft=vt.v,I=0;I<ft;I++)for(v=0;v<dt;v++)T(vt,O,D,I,v);if(D++,D===tt)break}if(D===tt)do{if(q[E]===255&&q[E+1]!==0)break;E+=1}while(E<q.length-2);if(et=0,j=q[E]<<8|q[E+1],j<65280)throw new Error("marker was not found");if(j>=65488&&j<=65495)E+=2;else break}return E-V}function z(q,E){var L=[],h=E.blocksPerLine,N=E.blocksPerColumn,x=h<<3,b=new Int32Array(64),R=new Uint8Array(64);function U(V,mt,et){var J=E.quantizationTable,X,l,M,ot,it,K,Q,Y,y,d=et,lt;for(lt=0;lt<64;lt++)d[lt]=V[lt]*J[lt];for(lt=0;lt<8;++lt){var T=8*lt;if(d[1+T]==0&&d[2+T]==0&&d[3+T]==0&&d[4+T]==0&&d[5+T]==0&&d[6+T]==0&&d[7+T]==0){y=u*d[0+T]+512>>10,d[0+T]=y,d[1+T]=y,d[2+T]=y,d[3+T]=y,d[4+T]=y,d[5+T]=y,d[6+T]=y,d[7+T]=y;continue}X=u*d[0+T]+128>>8,l=u*d[4+T]+128>>8,M=d[2+T],ot=d[6+T],it=m*(d[1+T]-d[7+T])+128>>8,Y=m*(d[1+T]+d[7+T])+128>>8,K=d[3+T]<<4,Q=d[5+T]<<4,y=X-l+1>>1,X=X+l+1>>1,l=y,y=M*f+ot*a+128>>8,M=M*a-ot*f+128>>8,ot=y,y=it-Q+1>>1,it=it+Q+1>>1,Q=y,y=Y+K+1>>1,K=Y-K+1>>1,Y=y,y=X-ot+1>>1,X=X+ot+1>>1,ot=y,y=l-M+1>>1,l=l+M+1>>1,M=y,y=it*i+Y*o+2048>>12,it=it*o-Y*i+2048>>12,Y=y,y=K*r+Q*e+2048>>12,K=K*e-Q*r+2048>>12,Q=y,d[0+T]=X+Y,d[7+T]=X-Y,d[1+T]=l+Q,d[6+T]=l-Q,d[2+T]=M+K,d[5+T]=M-K,d[3+T]=ot+it,d[4+T]=ot-it}for(lt=0;lt<8;++lt){var H=lt;if(d[8+H]==0&&d[16+H]==0&&d[24+H]==0&&d[32+H]==0&&d[40+H]==0&&d[48+H]==0&&d[56+H]==0){y=u*et[lt+0]+8192>>14,d[0+H]=y,d[8+H]=y,d[16+H]=y,d[24+H]=y,d[32+H]=y,d[40+H]=y,d[48+H]=y,d[56+H]=y;continue}X=u*d[0+H]+2048>>12,l=u*d[32+H]+2048>>12,M=d[16+H],ot=d[48+H],it=m*(d[8+H]-d[56+H])+2048>>12,Y=m*(d[8+H]+d[56+H])+2048>>12,K=d[24+H],Q=d[40+H],y=X-l+1>>1,X=X+l+1>>1,l=y,y=M*f+ot*a+2048>>12,M=M*a-ot*f+2048>>12,ot=y,y=it-Q+1>>1,it=it+Q+1>>1,Q=y,y=Y+K+1>>1,K=Y-K+1>>1,Y=y,y=X-ot+1>>1,X=X+ot+1>>1,ot=y,y=l-M+1>>1,l=l+M+1>>1,M=y,y=it*i+Y*o+2048>>12,it=it*o-Y*i+2048>>12,Y=y,y=K*r+Q*e+2048>>12,K=K*e-Q*r+2048>>12,Q=y,d[0+H]=X+Y,d[56+H]=X-Y,d[8+H]=l+Q,d[48+H]=l-Q,d[16+H]=M+K,d[40+H]=M-K,d[24+H]=ot+it,d[32+H]=ot-it}for(lt=0;lt<64;++lt){var Rt=128+(d[lt]+8>>4);mt[lt]=Rt<0?0:Rt>255?255:Rt}}yt(x*N*8);for(var k,rt,S=0;S<N;S++){var ht=S<<3;for(k=0;k<8;k++)L.push(new Uint8Array(x));for(var _=0;_<h;_++){U(E.blocks[S][_],R,b);var Z=0,pt=_<<3;for(rt=0;rt<8;rt++){var ct=L[ht+rt];for(k=0;k<8;k++)ct[pt+k]=R[Z++]}}}return L}function $(q){return q<0?0:q>255?255:q}A.prototype={load:function(E){var L=new XMLHttpRequest;L.open("GET",E,!0),L.responseType="arraybuffer",L.onload=(function(){var h=new Uint8Array(L.response||L.mozResponseArrayBuffer);this.parse(h),this.onload&&this.onload()}).bind(this),L.send(null)},parse:function(E){var L=this.opts.maxResolutionInMP*1e3*1e3,h=0,N=E.length;function x(){var C=E[h]<<8|E[h+1];return h+=2,C}function b(){var C=x(),nt=E.subarray(h,h+C-2);return h+=nt.length,nt}function R(C){var nt=1,Et=1,ut,St;for(St in C.components)C.components.hasOwnProperty(St)&&(ut=C.components[St],nt<ut.h&&(nt=ut.h),Et<ut.v&&(Et=ut.v));var Ct=Math.ceil(C.samplesPerLine/8/nt),Nt=Math.ceil(C.scanLines/8/Et);for(St in C.components)if(C.components.hasOwnProperty(St)){ut=C.components[St];var Yt=Math.ceil(Math.ceil(C.samplesPerLine/8)*ut.h/nt),Ht=Math.ceil(Math.ceil(C.scanLines/8)*ut.v/Et),jt=Ct*ut.h,te=Nt*ut.v,fe=te*jt,ee=[];yt(fe*256);for(var ne=0;ne<te;ne++){for(var re=[],oe=0;oe<jt;oe++)re.push(new Int32Array(64));ee.push(re)}ut.blocksPerLine=Yt,ut.blocksPerColumn=Ht,ut.blocks=ee}C.maxH=nt,C.maxV=Et,C.mcusPerLine=Ct,C.mcusPerColumn=Nt}var U=null,k=null,rt=null,S,ht,_=[],Z=[],pt=[],ct=[],V=x(),mt=-1;if(this.comments=[],V!=65496)throw new Error("SOI not found");for(V=x();V!=65497;){var et,J,X;switch(V){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var l=b();if(V===65534){var M=String.fromCharCode.apply(null,l);this.comments.push(M)}V===65504&&l[0]===74&&l[1]===70&&l[2]===73&&l[3]===70&&l[4]===0&&(U={version:{major:l[5],minor:l[6]},densityUnits:l[7],xDensity:l[8]<<8|l[9],yDensity:l[10]<<8|l[11],thumbWidth:l[12],thumbHeight:l[13],thumbData:l.subarray(14,14+3*l[12]*l[13])}),V===65505&&l[0]===69&&l[1]===120&&l[2]===105&&l[3]===102&&l[4]===0&&(this.exifBuffer=l.subarray(5,l.length)),V===65518&&l[0]===65&&l[1]===100&&l[2]===111&&l[3]===98&&l[4]===101&&l[5]===0&&(k={version:l[6],flags0:l[7]<<8|l[8],flags1:l[9]<<8|l[10],transformCode:l[11]});break;case 65499:for(var ot=x(),it=ot+h-2;h<it;){var K=E[h++];yt(256);var Q=new Int32Array(64);if(K>>4===0)for(J=0;J<64;J++){var Y=t[J];Q[Y]=E[h++]}else if(K>>4===1)for(J=0;J<64;J++){var Y=t[J];Q[Y]=x()}else throw new Error("DQT: invalid table spec");_[K&15]=Q}break;case 65472:case 65473:case 65474:x(),S={},S.extended=V===65473,S.progressive=V===65474,S.precision=E[h++],S.scanLines=x(),S.samplesPerLine=x(),S.components={},S.componentsOrder=[];var y=S.scanLines*S.samplesPerLine;if(y>L){var d=Math.ceil((y-L)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${d}MP`)}var lt=E[h++],T,H=0,Rt=0;for(et=0;et<lt;et++){T=E[h];var vt=E[h+1]>>4,s=E[h+1]&15,I=E[h+2];if(vt<=0||s<=0)throw new Error("Invalid sampling factor, expected values above 0");S.componentsOrder.push(T),S.components[T]={h:vt,v:s,quantizationIdx:I},h+=3}R(S),Z.push(S);break;case 65476:var v=x();for(et=2;et<v;){var F=E[h++],O=new Uint8Array(16),D=0;for(J=0;J<16;J++,h++)D+=O[J]=E[h];yt(16+D);var j=new Uint8Array(D);for(J=0;J<D;J++,h++)j[J]=E[h];et+=17+D,(F>>4===0?ct:pt)[F&15]=g(O,j)}break;case 65501:x(),ht=x();break;case 65500:x(),x();break;case 65498:var tt=x(),dt=E[h++],ft=[],p;for(et=0;et<dt;et++){p=S.components[E[h++]];var w=E[h++];p.huffmanTableDC=ct[w>>4],p.huffmanTableAC=pt[w&15],ft.push(p)}var P=E[h++],xt=E[h++],G=E[h++],W=B(E,h,S,ft,ht,P,xt,G>>4,G&15,this.opts);h+=W;break;case 65535:E[h]!==255&&h--;break;default:if(E[h-3]==255&&E[h-2]>=192&&E[h-2]<=254){h-=3;break}else if(V===224||V==225){if(mt!==-1)throw new Error(`first unknown JPEG marker at offset ${mt.toString(16)}, second unknown JPEG marker ${V.toString(16)} at offset ${(h-1).toString(16)}`);mt=h-1;let C=x();if(E[h+C-2]===255){h+=C-2;break}}throw new Error("unknown JPEG marker "+V.toString(16))}V=x()}if(Z.length!=1)throw new Error("only single frame JPEGs supported");for(var et=0;et<Z.length;et++){var at=Z[et].components;for(var J in at)at[J].quantizationTable=_[at[J].quantizationIdx],delete at[J].quantizationIdx}this.width=S.samplesPerLine,this.height=S.scanLines,this.jfif=U,this.adobe=k,this.components=[];for(var et=0;et<S.componentsOrder.length;et++){var p=S.components[S.componentsOrder[et]];this.components.push({lines:z(S,p),scaleX:p.h/S.maxH,scaleY:p.v/S.maxV})}},getData:function(E,L){var h=this.width/E,N=this.height/L,x,b,R,U,k,rt,S,ht,_,Z,pt=0,ct,V,mt,et,J,X,l,M,ot,it,K,Q=E*L*this.components.length;yt(Q);var Y=new Uint8Array(Q);switch(this.components.length){case 1:for(x=this.components[0],Z=0;Z<L;Z++)for(k=x.lines[0|Z*x.scaleY*N],_=0;_<E;_++)ct=k[0|_*x.scaleX*h],Y[pt++]=ct;break;case 2:for(x=this.components[0],b=this.components[1],Z=0;Z<L;Z++)for(k=x.lines[0|Z*x.scaleY*N],rt=b.lines[0|Z*b.scaleY*N],_=0;_<E;_++)ct=k[0|_*x.scaleX*h],Y[pt++]=ct,ct=rt[0|_*b.scaleX*h],Y[pt++]=ct;break;case 3:for(K=!0,this.adobe&&this.adobe.transformCode?K=!0:typeof this.opts.colorTransform<"u"&&(K=!!this.opts.colorTransform),x=this.components[0],b=this.components[1],R=this.components[2],Z=0;Z<L;Z++)for(k=x.lines[0|Z*x.scaleY*N],rt=b.lines[0|Z*b.scaleY*N],S=R.lines[0|Z*R.scaleY*N],_=0;_<E;_++)K?(ct=k[0|_*x.scaleX*h],V=rt[0|_*b.scaleX*h],mt=S[0|_*R.scaleX*h],M=$(ct+1.402*(mt-128)),ot=$(ct-.3441363*(V-128)-.71413636*(mt-128)),it=$(ct+1.772*(V-128))):(M=k[0|_*x.scaleX*h],ot=rt[0|_*b.scaleX*h],it=S[0|_*R.scaleX*h]),Y[pt++]=M,Y[pt++]=ot,Y[pt++]=it;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(K=!1,this.adobe&&this.adobe.transformCode?K=!0:typeof this.opts.colorTransform<"u"&&(K=!!this.opts.colorTransform),x=this.components[0],b=this.components[1],R=this.components[2],U=this.components[3],Z=0;Z<L;Z++)for(k=x.lines[0|Z*x.scaleY*N],rt=b.lines[0|Z*b.scaleY*N],S=R.lines[0|Z*R.scaleY*N],ht=U.lines[0|Z*U.scaleY*N],_=0;_<E;_++)K?(ct=k[0|_*x.scaleX*h],V=rt[0|_*b.scaleX*h],mt=S[0|_*R.scaleX*h],et=ht[0|_*U.scaleX*h],J=255-$(ct+1.402*(mt-128)),X=255-$(ct-.3441363*(V-128)-.71413636*(mt-128)),l=255-$(ct+1.772*(V-128))):(J=k[0|_*x.scaleX*h],X=rt[0|_*b.scaleX*h],l=S[0|_*R.scaleX*h],et=ht[0|_*U.scaleX*h]),Y[pt++]=255-J,Y[pt++]=255-X,Y[pt++]=255-l,Y[pt++]=255-et;break;default:throw new Error("Unsupported color mode")}return Y},copyToImageData:function(E,L){var h=E.width,N=E.height,x=E.data,b=this.getData(h,N),R=0,U=0,k,rt,S,ht,_,Z,pt,ct,V;switch(this.components.length){case 1:for(rt=0;rt<N;rt++)for(k=0;k<h;k++)S=b[R++],x[U++]=S,x[U++]=S,x[U++]=S,L&&(x[U++]=255);break;case 3:for(rt=0;rt<N;rt++)for(k=0;k<h;k++)pt=b[R++],ct=b[R++],V=b[R++],x[U++]=pt,x[U++]=ct,x[U++]=V,L&&(x[U++]=255);break;case 4:for(rt=0;rt<N;rt++)for(k=0;k<h;k++)_=b[R++],Z=b[R++],S=b[R++],ht=b[R++],pt=255-$(_*(1-ht/255)+ht),ct=255-$(Z*(1-ht/255)+ht),V=255-$(S*(1-ht/255)+ht),x[U++]=pt,x[U++]=ct,x[U++]=V,L&&(x[U++]=255);break;default:throw new Error("Unsupported color mode")}}};var st=0,At=0;function yt(q=0){var E=st+q;if(E>At){var L=Math.ceil((E-At)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${L}MB`)}st=E}return A.resetMaxMemoryUsage=function(q){st=0,At=q},A.getBytesAllocated=function(){return st},A.requestMemoryAllocation=yt,A})();typeof qe<"u"?qe.exports=jn:typeof window<"u"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=jn);function jn(n,t={}){var e={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},r={...e,...t},o=new Uint8Array(n),i=new Qe;i.opts=r,Qe.resetMaxMemoryUsage(r.maxMemoryUsageInMB*1024*1024),i.parse(o);var a=r.formatAsRGBA?4:3,f=i.width*i.height*a;try{Qe.requestMemoryAllocation(f);var u={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:r.useTArray?new Uint8Array(f):Buffer.alloc(f)};i.comments.length>0&&(u.comments=i.comments)}catch(m){throw m instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+f):m instanceof ReferenceError&&m.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):m}return i.copyToImageData(u,r.formatAsRGBA),u}});var je=$t((Ms,er)=>{var Uo=qn(),Po=tr();er.exports={encode:Uo,decode:Po}});var ae={redX:.64,redY:.33,greenX:.3,greenY:.6,blueX:.15,blueY:.06,whiteX:.3127,whiteY:.329},Be={redX:.68,redY:.32,greenX:.265,greenY:.69,blueX:.15,blueY:.06,whiteX:.3127,whiteY:.329},xe={redX:.708,redY:.292,greenX:.17,greenY:.797,blueX:.131,blueY:.046,whiteX:.3127,whiteY:.329};var Zt={"linear-rec709":ae,"linear-p3":Be,"linear-rec2020":xe};function In(n){let t=n.redX/n.redY,e=1,r=(1-n.redX-n.redY)/n.redY,o=n.greenX/n.greenY,i=1,a=(1-n.greenX-n.greenY)/n.greenY,f=n.blueX/n.blueY,u=1,m=(1-n.blueX-n.blueY)/n.blueY,A=n.whiteX/n.whiteY,g=1,B=(1-n.whiteX-n.whiteY)/n.whiteY,z=t*(i*m-u*a)-o*(e*m-u*r)+f*(e*a-i*r),$=(A*(i*m-u*a)-o*(g*m-u*B)+f*(g*a-i*B))/z,st=(t*(g*m-u*B)-A*(e*m-u*r)+f*(e*B-g*r))/z,At=(t*(i*B-g*a)-o*(e*B-g*r)+A*(e*a-i*r))/z;return[[$*t,st*o,At*f],[$*e,st*i,At*u],[$*r,st*a,At*m]]}function Vt(n,t){let e=In(n),r=In(t),o=gr(r);return mr(o,e)}function mr(n,t){return[[n[0][0]*t[0][0]+n[0][1]*t[1][0]+n[0][2]*t[2][0],n[0][0]*t[0][1]+n[0][1]*t[1][1]+n[0][2]*t[2][1],n[0][0]*t[0][2]+n[0][1]*t[1][2]+n[0][2]*t[2][2]],[n[1][0]*t[0][0]+n[1][1]*t[1][0]+n[1][2]*t[2][0],n[1][0]*t[0][1]+n[1][1]*t[1][1]+n[1][2]*t[2][1],n[1][0]*t[0][2]+n[1][1]*t[1][2]+n[1][2]*t[2][2]],[n[2][0]*t[0][0]+n[2][1]*t[1][0]+n[2][2]*t[2][0],n[2][0]*t[0][1]+n[2][1]*t[1][1]+n[2][2]*t[2][1],n[2][0]*t[0][2]+n[2][1]*t[1][2]+n[2][2]*t[2][2]]]}function gr(n){let t=n[0][0],e=n[0][1],r=n[0][2],o=n[1][0],i=n[1][1],a=n[1][2],f=n[2][0],u=n[2][1],m=n[2][2],g=1/(t*(i*m-a*u)-e*(o*m-a*f)+r*(o*u-i*f));return[[(i*m-a*u)*g,(r*u-e*m)*g,(e*a-r*i)*g],[(a*f-o*m)*g,(t*m-r*f)*g,(r*o-t*a)*g],[(o*u-i*f)*g,(e*f-t*u)*g,(t*i-e*o)*g]]}function Wt(n){return[n[0][0],n[0][1],n[0][2],n[1][0],n[1][1],n[1][2],n[2][0],n[2][1],n[2][2]]}function Bt(n,t,e,r=0,o=0){let i=t[r],a=t[r+1],f=t[r+2];e[o]=n[0]*i+n[1]*a+n[2]*f,e[o+1]=n[3]*i+n[4]*a+n[5]*f,e[o+2]=n[6]*i+n[7]*a+n[8]*f}var de=Zt["linear-rec709"],me=Zt["linear-p3"],ge=Zt["linear-rec2020"],Ar=Vt(de,me),Le=Vt(de,ge),Er=Vt(me,de),yr=Vt(me,ge),Oe=Vt(ge,de),wr=Vt(ge,me),Ir={"linear-rec709-linear-p3":Ar,"linear-rec709-linear-rec2020":Le,"linear-p3-linear-rec709":Er,"linear-p3-linear-rec2020":yr,"linear-rec2020-linear-rec709":Oe,"linear-rec2020-linear-p3":wr};function Mn(n,t){if(n===t)return null;let e=`${n}-${t}`;return Ir[e]}var ni=1/1.055,Mr=1/2.4,Rr=.0031308;function Dt(n){return n<=Rr?n*12.92:1.055*n**Mr-.055}var ii=1/2.4,ai=1/12.92,si=1/1.055;function Ae(n,t,e,r,o){let i=Mn(r,o);if(i===null)return n;let a=new Float32Array(n.length);a.set(n);let f=Wt(i);for(let u=0;u<n.length;u+=4)Bt(f,n,a,u,u);return a}function Ut(n){for(let t=0;t<n.length;t++){let e=n[t];(e===void 0||e<0||!Number.isFinite(e))&&(n[t]=0)}}var Ri=new Array(59);var Si=261;var Lr=new Float32Array(1),Vi=new Int32Array(Lr.buffer);var da={0:1,1:1,2:1,3:16,4:32,5:16};function Ge(n){let t=n*(n+.0245786)-90537e-9,e=n*(.983729*n+.432951)+.238081;return t/e}function Yr(n,t,e){for(let h=0;h<e;h++){let N=h*3,x=n[N],b=n[N+1],R=n[N+2],U=.59719*x+.35458*b+.04823*R,k=.076*x+.90834*b+.01566*R,rt=.0284*x+.13383*b+.83777*R,S=Ge(U),ht=Ge(k),_=Ge(rt);t[N]=1.60475*S+-.53108*ht+-.07367*_,t[N+1]=-.10208*S+1.10813*ht+-.00605*_,t[N+2]=-.00327*S+-.07276*ht+1.07602*_}}function Hr(n,t,e){for(let r=0;r<e;r++){let o=r*3,i=n[o],a=n[o+1],f=n[o+2];t[o]=i/(1+i),t[o+1]=a/(1+a),t[o+2]=f/(1+f)}}function $r(n,t,e){for(let i=0;i<e;i++){let a=i*3,f=n[a],u=n[a+1],m=n[a+2],A=Math.min(f,Math.min(u,m)),g=A<.08?A-6.25*A*A:.04;f-=g,u-=g,m-=g;let B=Math.max(f,Math.max(u,m));if(B<.76){t[a]=f,t[a+1]=u,t[a+2]=m;continue}let z=1-.76,$=1-z*z/(B+z-.76);f*=$/B,u*=$/B,m*=$/B;let st=1-1/(.15*(B-$)+1);t[a]=f*(1-st)+$*st,t[a+1]=u*(1-st)+$*st,t[a+2]=m*(1-st)+$*st}}function ke(n){let t=n*n,e=t*t;return 15.5*e*t-40.14*e*n+31.96*e-6.868*t*n+.4298*t+.1191*n-.00232}var Zr=Wt(Le),Vr=Wt(Oe),Wr=[.856627153315983,.0951212405381588,.0482516061458583,.137318972929847,.761241990602591,.101439036467562,.11189821299995,.0767994186031903,.811302368396859],zr=[1.1271005818144368,-.11060664309660323,-.016493938717834573,-.1413297634984383,1.157823702216272,-.016493938717834257,-.14132976349843826,-.11060664309660294,1.2519364065950405],Re=-12.47393,Jr=4.026069,wt=[0,0,0],Mt=[0,0,0];function Kr(n,t,e){for(let r=0;r<e;r++){let o=r*3;wt[0]=n[o],wt[1]=n[o+1],wt[2]=n[o+2],Bt(Zr,wt,Mt);let i=Mt[0],a=Mt[1],f=Mt[2];Bt(Wr,Mt,wt),i=wt[0],a=wt[1],f=wt[2],i=Math.max(i,1e-10),a=Math.max(a,1e-10),f=Math.max(f,1e-10);let u=1/(Jr-Re);i=Math.max(0,Math.min(1,(Math.log2(i)-Re)*u)),a=Math.max(0,Math.min(1,(Math.log2(a)-Re)*u)),f=Math.max(0,Math.min(1,(Math.log2(f)-Re)*u)),i=ke(i),a=ke(a),f=ke(f),wt[0]=i,wt[1]=a,wt[2]=f,Bt(zr,wt,Mt),i=Mt[0],a=Mt[1],f=Mt[2],i=Math.max(0,i)**2.2,a=Math.max(0,a)**2.2,f=Math.max(0,f)**2.2,wt[0]=i,wt[1]=a,wt[2]=f,Bt(Vr,wt,Mt),t[o]=Mt[0],t[o+1]=Mt[1],t[o+2]=Mt[2]}}var Qr={aces:Yr,reinhard:Hr,neutral:$r,agx:Kr};function Se(n){return Qr[n]}var ds=[1/64,1/64,1/64];var Jn=Pe(Wn(),1),zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{};typeof zn.Buffer>"u"&&(zn.Buffer=Jn.Buffer);var Bo=Pe(je(),1);var Lo="AAAByAAAAAAEMAAAbW50clJHQiBYWVogB+AAAQABAAAAAAAAYWNzcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJZGVzYwAAAPAAAAAkclhZWgAAARQAAAAUZ1hZWgAAASgAAAAUYlhZWgAAATwAAAAUd3RwdAAAAVAAAAAUclRSQwAAAWQAAAAoZ1RSQwAAAWQAAAAoYlRSQwAAAWQAAAAoY3BydAAAAYwAAAA8bWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABzAFIARwBCWFlaIAAAAAAAAG+iAAA49QAAA5BYWVogAAAAAAAAYpkAALeFAAAY2lhZWiAAAAAAAAAkoAAAD4QAALbPWFlaIAAAAAAAAPbWAAEAAAAA0y1wYXJhAAAAAAAEAAAAAmZmAADypwAADVkAABPQAAAKWwAAAAAAAAAAbWx1YwAAAAAAAAABAAAADGVuVVMAAAAgAAAAHABHAG8AbwBnAGwAZQAgAEkAbgBjAC4AIAAyADAAMQA2",nr=new TextEncoder().encode("ICC_PROFILE\0");function Oo(n){let t=atob(n),e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var tn=null;function rr(){if(tn)return tn;let n=Oo(Lo),t=new Uint8Array(nr.length+2+n.length);return t.set(nr,0),t[12]=1,t[13]=1,t.set(n,14),tn=t,t}var en=null;function No(){return en||(en=rr()),en}var or=No();var Cs=new TextEncoder().encode("ICC_PROFILE\0"),Do=12,Ts=Do+2;var Go=Pe(je(),1);var zs={SIGNATURE:new Uint8Array([77,80,70,0]),BIG_ENDIAN:new Uint8Array([77,77]),LITTLE_ENDIAN:new Uint8Array([73,73]),TIFF_MAGIC:42,NUM_PICTURES:2,TAG_COUNT:3,TAG_SIZE:12,MP_ENTRY_SIZE:16};var Js=new Uint8Array([48,49,48,48]);var Ot=.01;function Zo(n){let t=ae;return Math.abs(n.redX-t.redX)<=Ot&&Math.abs(n.redY-t.redY)<=Ot&&Math.abs(n.greenX-t.greenX)<=Ot&&Math.abs(n.greenY-t.greenY)<=Ot&&Math.abs(n.blueX-t.blueX)<=Ot&&Math.abs(n.blueY-t.blueY)<=Ot&&Math.abs(n.whiteX-t.whiteX)<=Ot&&Math.abs(n.whiteY-t.whiteY)<=Ot}function nn(n,t={}){if(!n)return;let e=n.chromaticities;if(!e){if(t.strict)throw new Error("EXR file has no chromaticities attribute. Tone mapping assumes Rec. 709 / sRGB primaries. Use strict: false to allow images without chromaticities, or ensure the EXR declares chromaticities.");return}let r=e;if(!(typeof r.redX!="number"||typeof r.redY!="number"||typeof r.greenX!="number"||typeof r.greenY!="number"||typeof r.blueX!="number"||typeof r.blueY!="number"||typeof r.whiteX!="number"||typeof r.whiteY!="number")&&!Zo(r))throw new Error("EXR chromaticities (red, green, blue, white) do not match Rec. 709. Tone mapping assumes Rec. 709 / sRGB primaries. Use an image with Rec. 709 chromaticities or convert color space before tone mapping.")}function Te(n,t,e,r={}){let o=r.sourceColorSpace??"linear-rec709",i=n;Ut(i),o!=="linear-rec709"?i=Ae(i,t,e,o,"linear-rec709"):r.metadata&&nn(r.metadata);let a=r.toneMapping??"reinhard",f=r.exposure??1,u=Se(a),m=t*e,A=new Float32Array(m*3),g=new Uint8Array(m*3);for(let B=0;B<m;B++){let z=B*4,$=B*3;if(z+2>=i.length)break;A[$]=i[z]*f,A[$+1]=i[z+1]*f,A[$+2]=i[z+2]*f}u(A,A,m);for(let B=0;B<m;B++){let z=B*3,$=B*3,st=Dt(A[z]),At=Dt(A[z+1]),yt=Dt(A[z+2]);g[$]=Math.max(0,Math.min(255,st*255+.5)),g[$+1]=Math.max(0,Math.min(255,At*255+.5)),g[$+2]=Math.max(0,Math.min(255,yt*255+.5))}return g}var ir=document.getElementById("controls"),sr=document.getElementById("meta"),le=document.getElementById("canvas"),rn=document.getElementById("error"),cr=document.getElementById("tonemap"),on=document.getElementById("exposure"),ar=document.getElementById("exposureVal"),Ft=null;function Vo(n){return n<1024?`${n} B`:n<1024*1024?`${(n/1024).toFixed(1)} KB`:`${(n/(1024*1024)).toFixed(1)} MB`}function Wo(n){if(n.parseError)return;let{width:t=0,height:e=0,fileSize:r=0,internalFormat:o="\u2014",fileName:i=""}=n,a=t*e;sr.innerHTML=`
    <dl>
      ${i?`<dt>File name</dt><dd>${an(i)}</dd>`:""}
      <dt>Width</dt><dd>${t}</dd>
      <dt>Height</dt><dd>${e}</dd>
      <dt>File size</dt><dd>${Vo(r)}</dd>
      <dt>Pixels</dt><dd>${a.toLocaleString()}</dd>
      <dt>Internal format</dt><dd>${an(o)}</dd>
    </dl>
  `}function an(n){let t=document.createElement("div");return t.textContent=n,t.innerHTML}function sn(){if(!Ft||!le)return;let n=parseFloat(on?.value??"1"),t=cr?.value??"neutral",e=Te(Ft.data,Ft.width,Ft.height,{toneMapping:t,exposure:n,sourceColorSpace:Ft.linearColorSpace});le.width=Ft.width,le.height=Ft.height;let r=le.getContext("2d",{colorSpace:"srgb"})??le.getContext("2d");if(!r)return;let o=r.createImageData(Ft.width,Ft.height),i=o.data,a=Ft.width*Ft.height*3;for(let f=0,u=0;u<a;f+=4,u+=3)i[f]=e[u]??0,i[f+1]=e[u+1]??0,i[f+2]=e[u+2]??0,i[f+3]=255;r.putImageData(o,0,0)}function zo(n){let t=n.data;if(t.parseError){rn.textContent=t.parseError,rn.style.display="block",ir.style.display="none",sr.innerHTML=t.fileName?`<dl><dt>File</dt><dd>${an(t.fileName)}</dd></dl>`:"";return}if(rn.style.display="none",ir.style.display="flex",Wo(t),!t.data||t.width==null||t.height==null)return;let e=new Float32Array(t.data);Ft={width:t.width,height:t.height,data:e,linearColorSpace:t.linearColorSpace??"linear-rec709"},sn()}cr?.addEventListener("change",sn);on?.addEventListener("input",()=>{ar&&(ar.textContent=on.value),sn()});window.addEventListener("message",zo);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
